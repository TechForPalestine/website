---
import Container from "./Container.astro";
import Socials from "./Socials.astro";
import TFPLogo from "./TFPLogo.astro";

// Footer navigation matching the new navbar structure
const footerNavigation: Record<string, { href?: string; links: [string, string][] }> = {
  About: {
    href: "/about",
    links: [
      ["Our Organization", "/about"],
      // ["Mission & Vision", "/coming-soon"],
      ["Team", "/team"],
      ["Media", "/media"],
      ["Contact Us", "mailto:contact@techforpalestine.org"],
    ],
  },
  Incubator: {
    href: "/incubator",
    links: [
      ["Overview", "/incubator"],
      ["Projects", "/projects"],
      ["Ideas", "/ideas"],
      ["Tools", "/tools"],
    ],
  },
  "Get Involved": {
    href: "/get-involved",
    links: [
      ["Overview", "/get-involved"],
      ["Join our Discord", "https://techforpalestine.org/discord-invite"],
      ["E4P", "/e4p"],
      // ["Investors for Palestine", "/coming-soon"],
      ["Be a Mentor", "/mentorship"],
      ["Volunteer", "/volunteer"],
      ["Join the Incubator", "https://techforpalestine.org/project-application-form"],
      ["Hire Palestinians", "/help/hire"],
    ],
  },
  Learn: {
    // href: "/coming-soon",
    links: [
      ["Past Updates", "https://updates.techforpalestine.org"],
      ["Past Events", "/events"],
      // ["Shopping Ethically", "/coming-soon"],
      // ["How to Boycott", "/coming-soon"],
      // ["Tech Complicity", "/coming-soon"],
      ["Vercel", "/vercel"],
      ["FAQ", "/faq"],
    ],
  },
};
---

<footer class="mt-20 border-t border-gray-200 bg-gradient-to-br from-gray-50 to-gray-100">
  <Container>
    <div class="py-20">
      <div class="grid grid-cols-1 gap-16 lg:grid-cols-12">
        <!-- Left Column: Logo and description -->
        <div class="space-y-8 lg:col-span-5">
          <div>
            <a href="/" class="group inline-block">
              <img
                src="/mark-transparent.png"
                alt="Tech for Palestine logo"
                class="h-16 w-auto transition-transform duration-200 group-hover:scale-105"
              />
            </a>
          </div>
          <p class="max-w-lg text-base leading-relaxed text-gray-700">
            Tech for Palestine is first and foremost an incubator for advocacy projects. We rally
            thousands of volunteers from across the tech world — founders, engineers, marketers,
            investors, and more — all committed to Palestinian liberation.
          </p>
          <div class="pt-4">
            <Socials />
          </div>
          <div class="pt-6">
            <a
              href="/donate"
              class="inline-flex transform items-center rounded-lg bg-gradient-to-r from-green-600 to-green-700 px-6 py-3 font-semibold text-white shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:from-green-700 hover:to-green-800 hover:shadow-md"
            >
              Support Our Work
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="ml-2 h-4 w-4"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path>
              </svg>
            </a>
          </div>
        </div>

        <!-- Right Columns: Site Index -->
        <div class="grid grid-cols-2 gap-8 md:grid-cols-4 lg:col-span-7">
          {
            Object.entries(footerNavigation).map(([category, { href, links }]) => (
              <div class="space-y-4">
                <a
                  href={href}
                  class="block text-base font-bold text-gray-900 transition-colors duration-200 hover:text-blue-600"
                >
                  {category}
                </a>
                <div class="space-y-3">
                  {links.map(([label, linkHref]) => (
                    <a
                      href={linkHref}
                      class="block whitespace-nowrap text-sm text-gray-600 transition-all duration-200 hover:translate-x-1 hover:text-gray-900"
                      target={
                        linkHref.startsWith("http") || linkHref.startsWith("mailto:")
                          ? "_blank"
                          : "_self"
                      }
                      rel={linkHref.startsWith("http") ? "noopener noreferrer" : undefined}
                    >
                      {label}
                    </a>
                  ))}
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>

    <!-- Bottom section -->
    <div class="border-t border-gray-200 py-10">
      <div class="flex flex-col items-center justify-between gap-6 md:flex-row">
        <p class="max-w-2xl text-center text-sm text-gray-600 md:text-left">
          &copy; 2025 Tech for Palestine, a registered 501(c)(3) nonprofit.
        </p>
        <div
          class="flex flex-wrap items-center justify-center gap-4 text-sm text-gray-600 sm:gap-6 md:justify-end md:gap-8"
        >
          <a
            href="/privacy-policy"
            class="whitespace-nowrap transition-colors duration-200 hover:text-gray-900"
            >Privacy Policy</a
          >
          <a
            href="/terms"
            class="whitespace-nowrap transition-colors duration-200 hover:text-gray-900"
            >Terms of Service</a
          >
          <a
            href="/legal"
            class="whitespace-nowrap transition-colors duration-200 hover:text-gray-900"
            >Legal & Financial</a
          >
        </div>
      </div>
    </div>
  </Container>
</footer>
